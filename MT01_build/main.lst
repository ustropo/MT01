* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Tue Mar 14 17:28:22 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  14-Mar-2017 17:28:22
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=main.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01_master\r_lvd_rx,C:\Workspace\e2studio\git\MT01_master\r_lvd_rx\src,C:/Workspace/e2studio/
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=main.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=0,EASYMAK=1,MOBILE=0,FREE_RTOS_PP
                                 ;main.c
                                 
                                 		.glb	_g_maq
                                 		.glb	_maq
                                 		.glb	_msc_utr
                                 		.glb	_swTimers
                                 		.glb	_main
                                 		.glb	_usb_main
                                 		.glb	_usb_mcu_init
                                 		.glb	_R_LVD_Open
                                 		.glb	_R_BSP_HardwareLock
                                 		.glb	_eepromInit
                                 		.glb	_check_machine_type
                                 		.glb	_eepromConsistencyCheck
                                 		.glb	_FreeRTOSConfig
                                 		.glb	_vTaskStartScheduler
                                 		.glb	_R_usb_cstd_GetUsbIpAdr
                                 		.glb	_usb_cpu_target_init
                                 		.glb	_R_USB_Open
                                 		.glb	_R_BSP_RegisterProtectDisable
                                 		.glb	_R_BSP_RegisterProtectEnable
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _main:
                                 		.STACK	_main=24
                                 ;       1 /***********************************************************************************************************************
                                 ;       2 * DISCLAIMER
                                 ;       3 * This software is supplied by Renesas Electronics Corporation and is only intended for use with Renesas products. No
                                 ;       4 * other uses are authorized. This software is owned by Renesas Electronics Corporation and is protected under all
                                 ;       5 * applicable laws, including copyright laws.
                                 ;       6 * THIS SOFTWARE IS PROVIDED "AS IS" AND RENESAS MAKES NO WARRANTIES REGARDING
                                 ;       7 * THIS SOFTWARE, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY,
                                 ;       8 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. ALL SUCH WARRANTIES ARE EXPRESSLY DISCLAIMED. TO THE MAXIMUM
                                 ;       9 * EXTENT PERMITTED NOT PROHIBITED BY LAW, NEITHER RENESAS ELECTRONICS CORPORATION NOR ANY OF ITS AFFILIATED COMPANIES
                                 ;      10 * SHALL BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES FOR ANY REASON RELATED TO THIS
                                 ;      11 * SOFTWARE, EVEN IF RENESAS OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
                                 ;      12 * Renesas reserves the right, without notice, to make changes to this software and to discontinue the availability of
                                 ;      13 * this software. By using this software, you agree to the additional terms and conditions found by accessing the
                                 ;      14 * following link:
                                 ;      15 * http://www.renesas.com/disclaimer
                                 ;      16 *
                                 ;      17 * Copyright (C) 2014 Renesas Electronics Corporation. All rights reserved.
                                 ;      18 ***********************************************************************************************************************/
                                 ;      19 /***********************************************************************************************************************
                                 ;      20 * File Name    : main.c
                                 ;      21 * Description  : main process
                                 ;      22 ***********************************************************************************************************************/
                                 ;      23 /**********************************************************************************************************************
                                 ;      24 * History : DD.MM.YYYY Version Description
                                 ;      25 *         : 04.01.2014 1.00 First Release
                                 ;      26 ***********************************************************************************************************************/
                                 ;      27 
                                 ;      28 /******************************************************************************
                                 ;      29 Includes   <System Includes> , "Project Includes"
                                 ;      30 ******************************************************************************/
                                 ;      31 #include <stdio.h>
                                 ;      32 #include "platform.h"
                                 ;      33 #include "r_usb_basic_if.h"
                                 ;      34 #include "r_usb_hmsc_config.h"
                                 ;      35 #include "r_usb_hmsc_if.h"
                                 ;      36 #include "tinyg.h"		// #1
                                 ;      37 #include "config.h"		// #2
                                 ;      38 #include "hardware.h"
                                 ;      39 #include "r_cmt_rx_if.h"
                                 ;      40 #include "r_lvd_rx_if.h"
                                 ;      41 #include "eeprom.h"
                                 ;      42 #include "config_SwTimers.h"
                                 ;      43 #include "state_functions.h"
                                 ;      44 /* Flash Loader project includes. */
                                 ;      45 #include "r_fl_includes.h"
                                 ;      46 
                                 ;      47 /* Kernel includes. */
                                 ;      48 #include "FreeRTOS.h"
                                 ;      49 #include "task.h"
                                 ;      50 #include "semphr.h"
                                 ;      51 #include "lcd.h"
                                 ;      52 
                                 ;      53 #ifdef RELEASE
                                 ;      54 
                                 ;      55 /* For HMSC Flashloader */
                                 ;      56 #define USERAPP_SECURITY_CODE   0x55AA55AA
                                 ;      57 
                                 ;      58 void UserAppStart(void);
                                 ;      59 /*******************************************************************************
                                 ;      60     APPLICATION INTERFACE HEADER
                                 ;      61     The purpose of the header is for an external application to be able to read
                                 ;      62     certain values from known addresses.
                                 ;      63     - Start address of UserApp.
                                 ;      64     - Security code must match what PCDC Flashloader expects.
                                 ;      65     - For revision purposes of applications etc.
                                 ;      66     - Do not change the order of these variables!
                                 ;      67 *******************************************************************************/
                                 ;      68 #pragma section C app_start
                                 ;      69 
                                 ;      70 /* START ADDRESS of user application header data    - Appheader address + 0x00. */
                                 ;      71 const uint32_t  userapp_entry_addr =    (uint32_t)  UserAppStart;
                                 ;      72                                             /*      - Appheader address + 0x04. */
                                 ;      73 const uint32_t  userapp_sec_code =      (uint32_t)  USERAPP_SECURITY_CODE;
                                 ;      74 
                                 ;      75 /* USER APP SW ID (Not used by default.)            - Appheader address + 0x08. */
                                 ;      76 const uint32_t  userapp_id_code =                    0x00000001;
                                 ;      77 /*******************************************************************************/
                                 ;      78 #endif
                                 ;      79 
                                 ;      80 #define USB_HOST_USBIP_NUM  USB_USBIP_0
                                 ;      81 
                                 ;      82 /******************************************************************************
                                 ;      83 External variables and functions
                                 ;      84 ******************************************************************************/
                                 ;      85 void usb_main(void);
                                 ;      86 void usb_mcu_init(void);
                                 ;      87 extern void	usb_cstd_IdleTaskStart(void);
                                 ;      88 extern void	usb_hmsc_task_start(void);
                                 ;      89 extern void	usb_apl_task_switch(void);
                                 ;      90 extern void FreeRTOSConfig(void);
                                 ;      91 
                                 ;      92 maq_name maq;
                                 ;      93 USB_UTR_t       msc_utr;
                                 ;      94 TimerHandle_t swTimers[TIMER_SIZE];
                                 ;      95 
                                 ;      96 /******************************************************************************
                                 ;      97 Function Name   : main
                                 ;      98 Description     : Main task
                                 ;      99 Arguments       : none
                                 ;     100 Return value    : none
                                 ;     101 ******************************************************************************/
                                 ;     102 void main(void)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",102
00000000 7100EC                  		ADD #0FFFFFFECH, R0
                                 ;     103 {
                                 ;     104 	lvd_err_t err;
                                 ;     105 	lvd_config_t channel1_cfg;
                                 ;     106 	channel1_cfg.e_action = LVD_ACTION_RESET;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",106
00000003 3E0100                  		MOV.L #00000000H, 04H[R0]
00000006                         L11:	; entry.split
                                 ;     107 	channel1_cfg.e_trigger = LVD_TRIGGER_FALL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",107
00000006 3E0301                  		MOV.L #00000001H, 0CH[R0]
00000009                         L12:	; entry.split1
                                 ;     108 	channel1_cfg.e_voltage_level =LVD_VOLTAGE_CH1_2_95;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",108
00000009 3E020A                  		MOV.L #0000000AH, 08H[R0]
0000000C                         L13:	; entry.split2
0000000C 6603                    		MOV.L #00000000H, R3
0000000E 710204                  		ADD #04H, R0, R2
00000011 6611                    		MOV.L #00000001H, R1
                                 ;     109 	err = R_LVD_Open(LVD_CHANNEL_1, &channel1_cfg, NULL);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",109
00000013 05rrrrrr             A  		BSR _R_LVD_Open
00000017 E301                    		MOV.L R1, [R0]
00000019                         L14:	; entry.split3
                                 ;     110 
                                 ;     111 	//IWDT.IWDTCR.WORD = 0x3323;
                                 ;     112 	bool ret = false;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",112
00000019 3C8300                  		MOV.B #00H, 13H[R0]
0000001C                         L15:	; entry.split4
0000001C 6661                    		MOV.L #00000006H, R1
                                 ;     113 	/* Reserve the CMT0 for FreeRTOS */
                                 ;     114 	ret = R_BSP_HardwareLock((mcu_lock_t)(BSP_LOCK_CMT0));
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",114
0000001E 05rrrrrr             A  		BSR _R_BSP_HardwareLock
00000022 8489                    		MOV.B R1, 13H[R0]
00000024                         L16:	; entry.split5
                                 ;     115 	while (false == ret) /* can't lock the CMT0 resource */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",115
00000024 B489                    		MOVU.B 13H[R0], R1
00000026 6101                    		CMP #00H, R1
00000028 18                   S  		BNE L18
00000029                         L17:	; bb9
                                 ;     116 	{
                                 ;     117 		while (1);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",117
00000029 2Err                 B  		BRA L17
0000002B                         L18:	; bb16
0000002B FBEE308008              		MOV.L #00088030H, R14
                                 ;     118 	}
                                 ;     119 	WDT_FEED
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",119
00000030 F8E400                  		MOV.B #00H, [R14]
00000033 F8E4FF                  		MOV.B #0FFH, [R14]
00000036                         L19:	; bb16.split
                                 ;     120 
                                 ;     121  /* Inicialização das variaveis EEPROM */
                                 ;     122 	eepromInit();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",122
00000036 05rrrrrr             A  		BSR _eepromInit
0000003A                         L20:	; bb16.split6
                                 ;     123 	g_maq = check_machine_type();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",123
0000003A 05rrrrrr             A  		BSR _check_machine_type
0000003E FB32rrrrrrrr            		MOV.L #_g_maq, R3
00000044 E331                    		MOV.L R1, [R3]
00000046 A03A                    		MOV.L R2, 04H[R3]
00000048                         L21:	; bb16.split7
                                 ;     124 	eepromConsistencyCheck();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",124
00000048 05rrrrrr             A  		BSR _eepromConsistencyCheck
0000004C                         L22:	; bb16.split8
                                 ;     125 
                                 ;     126 	/* Initialize USB */
                                 ;     127 	usb_main();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",127
0000004C 39rrrr               W  		BSR _usb_main
0000004F                         L23:	; bb16.split9
                                 ;     128 
                                 ;     129 
                                 ;     130 	/* Initialize RTOS */
                                 ;     131 	FreeRTOSConfig();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",131
0000004F 05rrrrrr             A  		BSR _FreeRTOSConfig
00000053                         L24:	; bb16.split10
                                 ;     132 
                                 ;     133 	/* Start tasks - only returns if something bad happened! */
                                 ;     134 	vTaskStartScheduler();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",134
00000053 05rrrrrr             A  		BSR _vTaskStartScheduler
00000057                         L25:	; bb18
                                 ;     135     while (1)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",135
00000057 2Err                 B  		BRA L25
00000059                         _usb_main:
                                 		.STACK	_usb_main=12
                                 ;     136     {
                                 ;     137 
                                 ;     138     }
                                 ;     139 }
                                 ;     140 
                                 ;     141 
                                 ;     142 void usb_main()
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",142
00000059 7EA6                    		PUSH.L R6
0000005B 6040                    		SUB #04H, R0
                                 ;     143 {
                                 ;     144     usb_err_t   usb_err = USB_SUCCESS;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",144
0000005D F80600                  		MOV.L #00000000H, [R0]
00000060                         L27:	; entry.split
                                 ;     145     usb_mcu_init();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",145
00000060 39rrrr               W  		BSR _usb_mcu_init
00000063                         L28:	; entry.split1
                                 ;     146     /* Determine which port is host. */
                                 ;     147     msc_utr.ip  = USB_HOST_USBIP_NUM;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",147
00000063 FB12rrrrrrrr            		MOV.L #_msc_utr, R1
00000069 3D1600                  		MOV.W #0000H, 0CH[R1]
0000006C                         L29:	; entry.split2
                                 ;     148     msc_utr.ipp     = R_usb_cstd_GetUsbIpAdr( msc_utr.ip ); /* Get the USB IP base address. */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",148
0000006C FB62rrrrrrrr            		MOV.L #_msc_utr, R6
00000072 B9E1                    		MOVU.W 0CH[R6], R1
00000074 05rrrrrr             A  		BSR _R_usb_cstd_GetUsbIpAdr
00000078 A0E1                    		MOV.L R1, 08H[R6]
0000007A                         L30:	; entry.split3
                                 ;     149 
                                 ;     150     /* Initialize the USB driver hardware */
                                 ;     151     usb_cpu_target_init();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",151
0000007A 05rrrrrr             A  		BSR _usb_cpu_target_init
0000007E                         L31:	; entry.split4
                                 ;     152 
                                 ;     153     /* USB driver open */
                                 ;     154     usb_err = R_USB_Open( (usb_ip_t)msc_utr.ip );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",154
0000007E FB12rrrrrrrr            		MOV.L #_msc_utr, R1
00000084 B991                    		MOVU.W 0CH[R1], R1
00000086 05rrrrrr             A  		BSR _R_USB_Open
0000008A E301                    		MOV.L R1, [R0]
0000008C                         L32:	; entry.split5
                                 ;     155     if( USB_E_OK != usb_err )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",155
0000008C EC01                    		MOV.L [R0], R1
0000008E 6101                    		CMP #00H, R1
00000090 10                   S  		BEQ L34
00000091                         L33:	; bb8
                                 ;     156     {
                                 ;     157         while(1);   /* Error stop */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",157
00000091 2Err                 B  		BRA L33
00000093                         L34:	; return
                                 ;     158     }
                                 ;     159 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",159
00000093 3F6602                  		RTSD #08H, R6-R6
00000096                         _usb_mcu_init:
                                 		.STACK	_usb_mcu_init=4
                                 ;     160 /******************************************************************************
                                 ;     161 End of function main()
                                 ;     162 ******************************************************************************/
                                 ;     163 
                                 ;     164 /******************************************************************************
                                 ;     165 Function Name   : usb_mcu_init
                                 ;     166 Description     : USB pin function and port mode setting.
                                 ;     167 Arguments       : none
                                 ;     168 Return value    : none
                                 ;     169 ******************************************************************************/
                                 ;     170 void usb_mcu_init(void)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",170
00000096 6611                    		MOV.L #00000001H, R1
                                 ;     171 {
                                 ;     172     R_BSP_RegisterProtectDisable(BSP_REG_PROTECT_LPC_CGC_SWR);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",172
00000098 05rrrrrr             A  		BSR _R_BSP_RegisterProtectDisable
0000009C                         L36:	; entry.split
0000009C 6631                    		MOV.L #00000003H, R1
                                 ;     173     R_BSP_RegisterProtectDisable(BSP_REG_PROTECT_MPC);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",173
0000009E 05rrrrrr             A  		BSR _R_BSP_RegisterProtectDisable
000000A2                         L37:	; entry.split1
000000A2 FBEE61C008              		MOV.L #0008C061H, R14
                                 ;     174 
                                 ;     175   #if USB_FUNCSEL_USBIP0_PP == USB_HOST_PP
                                 ;     176 
                                 ;     177     PORT1.PMR.BIT.B4 = 1u;  /* P14 set USB0_OVRCURA */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",177
000000A7 F0E4                    		BSET #04H, [R14].B
000000A9                         L38:	; entry.split2
000000A9 FBEE61C008              		MOV.L #0008C061H, R14
                                 ;     178 
                                 ;     179     PORT1.PMR.BIT.B6 = 1u;  /* P16 set VBUS_USB */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",179
000000AE F0E6                    		BSET #06H, [R14].B
000000B0                         L39:	; entry.split3
000000B0 FBEE4EC108              		MOV.L #0008C14EH, R14
                                 ;     180     MPC.P16PFS.BYTE = 0x12; /* USB0_VBUSEN */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",180
000000B5 F8E412                  		MOV.B #12H, [R14]
000000B8                         L40:	; entry.split4
000000B8 6631                    		MOV.L #00000003H, R1
                                 ;     181   #endif  /* USB_FUNCSEL_USBIP0_PP == USB_HOST_PP */
                                 ;     182 
                                 ;     183   #if USB_FUNCSEL_USBIP1_PP == USB_HOST_PP
                                 ;     184     PORT1.PMR.BIT.B0    = 1u;
                                 ;     185     MPC.P10PFS.BYTE = 0x15; /* USBHS_OVRCURA */
                                 ;     186     PORT1.PMR.BIT.B1    = 1u;
                                 ;     187     MPC.P11PFS.BYTE = 0x15; /* USBHS_VBUSEN */
                                 ;     188   #endif  /* USB_FUNCSEL_USBIP1_PP == USB_HOST_PP */
                                 ;     189 
                                 ;     190     R_BSP_RegisterProtectEnable(BSP_REG_PROTECT_MPC);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",190
000000BA 05rrrrrr             A  		BSR _R_BSP_RegisterProtectEnable
000000BE                         L41:	; entry.split5
000000BE 6611                    		MOV.L #00000001H, R1
                                 ;     191     R_BSP_RegisterProtectEnable(BSP_REG_PROTECT_LPC_CGC_SWR);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01_master\src\main.c",191
000000C0 05rrrrrr             A  		BSR _R_BSP_RegisterProtectEnable
000000C4 02                      		RTS
                                 ;     192 }   /* eof usb_mcu_init() */
                                 ;     193 /******************************************************************************
                                 ;     194 End  Of File
                                 ;     195 ******************************************************************************/
                                 		.SECTION	B,DATA,ALIGN=4
00000000                         _maq:
00000000(00000004H)              		.blkl	1
00000004                         _msc_utr:
00000004(0000002CH)              		.blkl	11
00000030                         _swTimers:
00000030(00000028H)              		.blkl	10
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00383   LINES

Section List

Attr         Size               Name
CODE     0000000197(000000C5H)  P
DATA     0000000088(00000058H)  B

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx305E\$ccrx\main.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01_master\MT01_build\main.lst
-output=C:\Workspace\e2studio\git\MT01_master\MT01_build\src\main.obj
