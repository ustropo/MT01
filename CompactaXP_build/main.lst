* RX FAMILY ASSEMBLER V2.03.00.01 [24 Oct 2014] *  SOURCE LIST  Tue Feb 28 14:07:03 2017

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.03.00.03 [04 Dec 2014])  28-Feb-2017 14:07:03
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-ISA=RXV1
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=main.src
                                 ;-lang=c99
                                 ;-include=C:\PROGRA~2\Renesas\RX\2_3_0/include,C:\Workspace\e2studio\git\MT01\r_lvd_rx,C:\Workspace\e2studio\git\MT01\r_lvd_rx\src,C:/Workspace/e2studio/git/MT01/r_tfa
                                 ;-debug
                                 ;-show=source,conditionals,definitions,expansions
                                 ;-listfile=main.lst
                                 ;-isa=rxv1
                                 ;-optimize=0
                                 ;-fpu
                                 ;-alias=noansi
                                 ;-nologo
                                 ;-nomessage
                                 ;-define=__RX,COMPACTAXP=1,EASYMAK=0,MOBILE=0,FREE_RTOS_PP
                                 ;main.c
                                 
                                 		.glb	_teste
                                 		.glb	_msc_utr
                                 		.glb	_swTimers
                                 		.glb	_main
                                 		.glb	_usb_main
                                 		.glb	_usb_mcu_init
                                 		.glb	_R_LVD_Open
                                 		.glb	_R_BSP_HardwareLock
                                 		.glb	_eepromInit
                                 		.glb	_eepromConsistencyCheck
                                 		.glb	_FreeRTOSConfig
                                 		.glb	_vTaskStartScheduler
                                 		.glb	_R_usb_cstd_GetUsbIpAdr
                                 		.glb	_usb_cpu_target_init
                                 		.glb	_R_USB_Open
                                 		.glb	_R_BSP_RegisterProtectDisable
                                 		.glb	_R_BSP_RegisterProtectEnable
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _main:
                                 		.STACK	_main=24
                                 ;       1 /***********************************************************************************************************************
                                 ;       2 * DISCLAIMER
                                 ;       3 * This software is supplied by Renesas Electronics Corporation and is only intended for use with Renesas products. No
                                 ;       4 * other uses are authorized. This software is owned by Renesas Electronics Corporation and is protected under all
                                 ;       5 * applicable laws, including copyright laws.
                                 ;       6 * THIS SOFTWARE IS PROVIDED "AS IS" AND RENESAS MAKES NO WARRANTIES REGARDING
                                 ;       7 * THIS SOFTWARE, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY,
                                 ;       8 * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. ALL SUCH WARRANTIES ARE EXPRESSLY DISCLAIMED. TO THE MAXIMUM
                                 ;       9 * EXTENT PERMITTED NOT PROHIBITED BY LAW, NEITHER RENESAS ELECTRONICS CORPORATION NOR ANY OF ITS AFFILIATED COMPANIES
                                 ;      10 * SHALL BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES FOR ANY REASON RELATED TO THIS
                                 ;      11 * SOFTWARE, EVEN IF RENESAS OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
                                 ;      12 * Renesas reserves the right, without notice, to make changes to this software and to discontinue the availability of
                                 ;      13 * this software. By using this software, you agree to the additional terms and conditions found by accessing the
                                 ;      14 * following link:
                                 ;      15 * http://www.renesas.com/disclaimer
                                 ;      16 *
                                 ;      17 * Copyright (C) 2014 Renesas Electronics Corporation. All rights reserved.
                                 ;      18 ***********************************************************************************************************************/
                                 ;      19 /***********************************************************************************************************************
                                 ;      20 * File Name    : main.c
                                 ;      21 * Description  : main process
                                 ;      22 ***********************************************************************************************************************/
                                 ;      23 /**********************************************************************************************************************
                                 ;      24 * History : DD.MM.YYYY Version Description
                                 ;      25 *         : 04.01.2014 1.00 First Release
                                 ;      26 ***********************************************************************************************************************/
                                 ;      27 
                                 ;      28 /******************************************************************************
                                 ;      29 Includes   <System Includes> , "Project Includes"
                                 ;      30 ******************************************************************************/
                                 ;      31 #include <stdio.h>
                                 ;      32 #include "platform.h"
                                 ;      33 #include "r_usb_basic_if.h"
                                 ;      34 #include "r_usb_hmsc_config.h"
                                 ;      35 #include "r_usb_hmsc_if.h"
                                 ;      36 #include "tinyg.h"		// #1
                                 ;      37 #include "config.h"		// #2
                                 ;      38 #include "hardware.h"
                                 ;      39 #include "r_cmt_rx_if.h"
                                 ;      40 #include "r_lvd_rx_if.h"
                                 ;      41 #include "eeprom.h"
                                 ;      42 #include "config_SwTimers.h"
                                 ;      43 /* Flash Loader project includes. */
                                 ;      44 #include "r_fl_includes.h"
                                 ;      45 
                                 ;      46 /* Kernel includes. */
                                 ;      47 #include "FreeRTOS.h"
                                 ;      48 #include "task.h"
                                 ;      49 #include "semphr.h"
                                 ;      50 #include "lcd.h"
                                 ;      51 
                                 ;      52 #ifdef RELEASE
                                 ;      53 
                                 ;      54 /* For HMSC Flashloader */
                                 ;      55 #define USERAPP_SECURITY_CODE   0x55AA55AA
                                 ;      56 
                                 ;      57 void UserAppStart(void);
                                 ;      58 /*******************************************************************************
                                 ;      59     APPLICATION INTERFACE HEADER
                                 ;      60     The purpose of the header is for an external application to be able to read
                                 ;      61     certain values from known addresses.
                                 ;      62     - Start address of UserApp.
                                 ;      63     - Security code must match what PCDC Flashloader expects.
                                 ;      64     - For revision purposes of applications etc.
                                 ;      65     - Do not change the order of these variables!
                                 ;      66 *******************************************************************************/
                                 ;      67 #pragma section C app_start
                                 ;      68 
                                 ;      69 /* START ADDRESS of user application header data    - Appheader address + 0x00. */
                                 ;      70 const uint32_t  userapp_entry_addr =    (uint32_t)  UserAppStart;
                                 ;      71                                             /*      - Appheader address + 0x04. */
                                 ;      72 const uint32_t  userapp_sec_code =      (uint32_t)  USERAPP_SECURITY_CODE;
                                 ;      73 
                                 ;      74 /* USER APP SW ID (Not used by default.)            - Appheader address + 0x08. */
                                 ;      75 const uint32_t  userapp_id_code =                    0x00000001;
                                 ;      76 /*******************************************************************************/
                                 ;      77 #endif
                                 ;      78 
                                 ;      79 #define USB_HOST_USBIP_NUM  USB_USBIP_0
                                 ;      80 
                                 ;      81 /******************************************************************************
                                 ;      82 External variables and functions
                                 ;      83 ******************************************************************************/
                                 ;      84 void usb_main(void);
                                 ;      85 void usb_mcu_init(void);
                                 ;      86 extern void	usb_cstd_IdleTaskStart(void);
                                 ;      87 extern void	usb_hmsc_task_start(void);
                                 ;      88 extern void	usb_apl_task_switch(void);
                                 ;      89 extern void FreeRTOSConfig(void);
                                 ;      90 
                                 ;      91 #pragma address teste=0xffff4000
                                 ;      92 const int teste = 100;
                                 ;      93 
                                 ;      94 
                                 ;      95 USB_UTR_t       msc_utr;
                                 ;      96 TimerHandle_t swTimers[TIMER_SIZE];
                                 ;      97 
                                 ;      98 /******************************************************************************
                                 ;      99 Function Name   : main
                                 ;     100 Description     : Main task
                                 ;     101 Arguments       : none
                                 ;     102 Return value    : none
                                 ;     103 ******************************************************************************/
                                 ;     104 void main(void)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",104
00000000 7100EC                  		ADD #0FFFFFFECH, R0
                                 ;     105 {
                                 ;     106 	lvd_err_t err;
                                 ;     107 	lvd_config_t channel1_cfg;
                                 ;     108 	channel1_cfg.e_action = LVD_ACTION_RESET;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",108
00000003 3E0100                  		MOV.L #00000000H, 04H[R0]
00000006                         L11:	; entry.split
                                 ;     109 	channel1_cfg.e_trigger = LVD_TRIGGER_FALL;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",109
00000006 3E0301                  		MOV.L #00000001H, 0CH[R0]
00000009                         L12:	; entry.split1
                                 ;     110 	channel1_cfg.e_voltage_level =LVD_VOLTAGE_CH1_2_95;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",110
00000009 3E020A                  		MOV.L #0000000AH, 08H[R0]
0000000C                         L13:	; entry.split2
0000000C 6603                    		MOV.L #00000000H, R3
0000000E 710204                  		ADD #04H, R0, R2
00000011 6611                    		MOV.L #00000001H, R1
                                 ;     111 	err = R_LVD_Open(LVD_CHANNEL_1, &channel1_cfg, NULL);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",111
00000013 05rrrrrr             A  		BSR _R_LVD_Open
00000017 E301                    		MOV.L R1, [R0]
00000019                         L14:	; entry.split3
                                 ;     112 
                                 ;     113 	//IWDT.IWDTCR.WORD = 0x3323;
                                 ;     114 	bool ret = false;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",114
00000019 3C8300                  		MOV.B #00H, 13H[R0]
0000001C                         L15:	; entry.split4
0000001C 6661                    		MOV.L #00000006H, R1
                                 ;     115 	/* Reserve the CMT0 for FreeRTOS */
                                 ;     116 	ret = R_BSP_HardwareLock((mcu_lock_t)(BSP_LOCK_CMT0));
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",116
0000001E 05rrrrrr             A  		BSR _R_BSP_HardwareLock
00000022 8489                    		MOV.B R1, 13H[R0]
00000024                         L16:	; entry.split5
                                 ;     117 	while (false == ret) /* can't lock the CMT0 resource */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",117
00000024 B489                    		MOVU.B 13H[R0], R1
00000026 6101                    		CMP #00H, R1
00000028 18                   S  		BNE L18
00000029                         L17:	; bb9
                                 ;     118 	{
                                 ;     119 		while (1);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",119
00000029 2Err                 B  		BRA L17
0000002B                         L18:	; bb16
0000002B FBEE308008              		MOV.L #00088030H, R14
                                 ;     120 	}
                                 ;     121 	WDT_FEED
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",121
00000030 F8E400                  		MOV.B #00H, [R14]
00000033 F8E4FF                  		MOV.B #0FFH, [R14]
00000036                         L19:	; bb16.split
                                 ;     122 
                                 ;     123  /* Inicialização das variaveis EEPROM */
                                 ;     124 	eepromInit();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",124
00000036 05rrrrrr             A  		BSR _eepromInit
0000003A                         L20:	; bb16.split6
                                 ;     125 	eepromConsistencyCheck();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",125
0000003A 05rrrrrr             A  		BSR _eepromConsistencyCheck
0000003E                         L21:	; bb16.split7
                                 ;     126 
                                 ;     127 	/* Initialize USB */
                                 ;     128 	usb_main();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",128
0000003E 39rrrr               W  		BSR _usb_main
00000041                         L22:	; bb16.split8
                                 ;     129 
                                 ;     130 	/* Initialize RTOS */
                                 ;     131 	FreeRTOSConfig();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",131
00000041 05rrrrrr             A  		BSR _FreeRTOSConfig
00000045                         L23:	; bb16.split9
                                 ;     132 
                                 ;     133 	/* Start tasks - only returns if something bad happened! */
                                 ;     134 	vTaskStartScheduler();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",134
00000045 05rrrrrr             A  		BSR _vTaskStartScheduler
00000049                         L24:	; bb18
                                 ;     135     while (1)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",135
00000049 2Err                 B  		BRA L24
0000004B                         _usb_main:
                                 		.STACK	_usb_main=12
                                 ;     136     {
                                 ;     137 
                                 ;     138     }
                                 ;     139 }
                                 ;     140 
                                 ;     141 
                                 ;     142 void usb_main()
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",142
0000004B 7EA6                    		PUSH.L R6
0000004D 6040                    		SUB #04H, R0
                                 ;     143 {
                                 ;     144     usb_err_t   usb_err = USB_SUCCESS;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",144
0000004F F80600                  		MOV.L #00000000H, [R0]
00000052                         L26:	; entry.split
                                 ;     145     usb_mcu_init();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",145
00000052 39rrrr               W  		BSR _usb_mcu_init
00000055                         L27:	; entry.split1
                                 ;     146     /* Determine which port is host. */
                                 ;     147     msc_utr.ip  = USB_HOST_USBIP_NUM;
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",147
00000055 FB12rrrrrrrr            		MOV.L #_msc_utr, R1
0000005B 3D1600                  		MOV.W #0000H, 0CH[R1]
0000005E                         L28:	; entry.split2
                                 ;     148     msc_utr.ipp     = R_usb_cstd_GetUsbIpAdr( msc_utr.ip ); /* Get the USB IP base address. */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",148
0000005E FB62rrrrrrrr            		MOV.L #_msc_utr, R6
00000064 B9E1                    		MOVU.W 0CH[R6], R1
00000066 05rrrrrr             A  		BSR _R_usb_cstd_GetUsbIpAdr
0000006A A0E1                    		MOV.L R1, 08H[R6]
0000006C                         L29:	; entry.split3
                                 ;     149 
                                 ;     150     /* Initialize the USB driver hardware */
                                 ;     151     usb_cpu_target_init();
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",151
0000006C 05rrrrrr             A  		BSR _usb_cpu_target_init
00000070                         L30:	; entry.split4
                                 ;     152 
                                 ;     153     /* USB driver open */
                                 ;     154     usb_err = R_USB_Open( (usb_ip_t)msc_utr.ip );
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",154
00000070 FB12rrrrrrrr            		MOV.L #_msc_utr, R1
00000076 B991                    		MOVU.W 0CH[R1], R1
00000078 05rrrrrr             A  		BSR _R_USB_Open
0000007C E301                    		MOV.L R1, [R0]
0000007E                         L31:	; entry.split5
                                 ;     155     if( USB_E_OK != usb_err )
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",155
0000007E EC01                    		MOV.L [R0], R1
00000080 6101                    		CMP #00H, R1
00000082 10                   S  		BEQ L33
00000083                         L32:	; bb8
                                 ;     156     {
                                 ;     157         while(1);   /* Error stop */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",157
00000083 2Err                 B  		BRA L32
00000085                         L33:	; return
                                 ;     158     }
                                 ;     159 }
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",159
00000085 3F6602                  		RTSD #08H, R6-R6
00000088                         _usb_mcu_init:
                                 		.STACK	_usb_mcu_init=4
                                 ;     160 /******************************************************************************
                                 ;     161 End of function main()
                                 ;     162 ******************************************************************************/
                                 ;     163 
                                 ;     164 /******************************************************************************
                                 ;     165 Function Name   : usb_mcu_init
                                 ;     166 Description     : USB pin function and port mode setting.
                                 ;     167 Arguments       : none
                                 ;     168 Return value    : none
                                 ;     169 ******************************************************************************/
                                 ;     170 void usb_mcu_init(void)
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",170
00000088 6611                    		MOV.L #00000001H, R1
                                 ;     171 {
                                 ;     172     R_BSP_RegisterProtectDisable(BSP_REG_PROTECT_LPC_CGC_SWR);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",172
0000008A 05rrrrrr             A  		BSR _R_BSP_RegisterProtectDisable
0000008E                         L35:	; entry.split
0000008E 6631                    		MOV.L #00000003H, R1
                                 ;     173     R_BSP_RegisterProtectDisable(BSP_REG_PROTECT_MPC);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",173
00000090 05rrrrrr             A  		BSR _R_BSP_RegisterProtectDisable
00000094                         L36:	; entry.split1
00000094 FBEE61C008              		MOV.L #0008C061H, R14
                                 ;     174 
                                 ;     175   #if USB_FUNCSEL_USBIP0_PP == USB_HOST_PP
                                 ;     176 
                                 ;     177     PORT1.PMR.BIT.B4 = 1u;  /* P14 set USB0_OVRCURA */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",177
00000099 F0E4                    		BSET #04H, [R14].B
0000009B                         L37:	; entry.split2
0000009B FBEE61C008              		MOV.L #0008C061H, R14
                                 ;     178 
                                 ;     179     PORT1.PMR.BIT.B6 = 1u;  /* P16 set VBUS_USB */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",179
000000A0 F0E6                    		BSET #06H, [R14].B
000000A2                         L38:	; entry.split3
000000A2 FBEE4EC108              		MOV.L #0008C14EH, R14
                                 ;     180     MPC.P16PFS.BYTE = 0x12; /* USB0_VBUSEN */
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",180
000000A7 F8E412                  		MOV.B #12H, [R14]
000000AA                         L39:	; entry.split4
000000AA 6631                    		MOV.L #00000003H, R1
                                 ;     181   #endif  /* USB_FUNCSEL_USBIP0_PP == USB_HOST_PP */
                                 ;     182 
                                 ;     183   #if USB_FUNCSEL_USBIP1_PP == USB_HOST_PP
                                 ;     184     PORT1.PMR.BIT.B0    = 1u;
                                 ;     185     MPC.P10PFS.BYTE = 0x15; /* USBHS_OVRCURA */
                                 ;     186     PORT1.PMR.BIT.B1    = 1u;
                                 ;     187     MPC.P11PFS.BYTE = 0x15; /* USBHS_VBUSEN */
                                 ;     188   #endif  /* USB_FUNCSEL_USBIP1_PP == USB_HOST_PP */
                                 ;     189 
                                 ;     190     R_BSP_RegisterProtectEnable(BSP_REG_PROTECT_MPC);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",190
000000AC 05rrrrrr             A  		BSR _R_BSP_RegisterProtectEnable
000000B0                         L40:	; entry.split5
000000B0 6611                    		MOV.L #00000001H, R1
                                 ;     191     R_BSP_RegisterProtectEnable(BSP_REG_PROTECT_LPC_CGC_SWR);
                                 		.LINE  "C:\Workspace\e2studio\git\MT01\src\main.c",191
000000B2 05rrrrrr             A  		BSR _R_BSP_RegisterProtectEnable
000000B6 02                      		RTS
                                 ;     192 }   /* eof usb_mcu_init() */
                                 ;     193 /******************************************************************************
                                 ;     194 End  Of File
                                 ;     195 ******************************************************************************/
                                 		.SECTION	$ADDR_C_FFFF4000,ROMDATA
                                 
FFFF4000                         		.ORG		0FFFF4000H
FFFF4000                         _teste:
FFFF4000 64000000                		.lword	00000064H
                                 		.SECTION	B,DATA,ALIGN=4
00000000                         _msc_utr:
00000000(0000002CH)              		.blkl	11
0000002C                         _swTimers:
0000002C(00000028H)              		.blkl	10
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00378   LINES

Section List

Attr         Size               Name
CODE     0000000183(000000B7H)  P
ROMDATA  0000000004(00000004H)  $ADDR_C_FFFF4000
DATA     0000000084(00000054H)  B

Cpu Type

-ISA=RXV1 -FPU

Command Parameter

-subcommand=C:\Users\LAFONS~1\AppData\Local\Temp\$ccrx12DB\$ccrx\main.src.cmd
    -nologo
    -isa=rxv1
    -fpu
    -show=conditionals,definitions,expansions
    -define=__RXV1=1
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Workspace\e2studio\git\MT01\CompactaXP_build\main.lst
-output=C:\Workspace\e2studio\git\MT01\CompactaXP_build\src\main.obj
